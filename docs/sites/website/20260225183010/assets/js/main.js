document.addEventListener('DOMContentLoaded',function(){'use strict';const e=document.getElementById('main-header'),t=document.getElementById('mobile-menu-toggle'),o=document.getElementById('mobile-menu'),n=document.getElementById('mobile-menu-close'),i=document.querySelectorAll('.accordion-header'),a=document.querySelectorAll('.reveal'),c=document.getElementById('cookie-banner'),d=document.getElementById('cookie-accept'),l=document.getElementById('sticky-cta');function s(){e&&window.scrollY>50?e.classList.add('scrolled'):e&&e.classList.remove('scrolled')}function r(){o&&o.classList.add('open'),document.body.classList.add('scroll-locked')}function m(){o&&o.classList.remove('open'),document.body.classList.remove('scroll-locked')}window.addEventListener('scroll',s),t&&t.addEventListener('click',r),n&&n.addEventListener('click',m),o&&o.addEventListener('click',function(e){e.target===o&&m()}),document.addEventListener('keydown',function(e){'Escape'===e.key&&o&&o.classList.contains('open')&&m()}),i.forEach(e=>{e.addEventListener('click',function(){const t=this.getAttribute('aria-expanded')==='true';this.setAttribute('aria-expanded',!t);const o=this.nextElementSibling;t?(o.style.maxHeight=null):(o.style.maxHeight=o.scrollHeight+'px')})});const u=new IntersectionObserver(function(e,t){e.forEach(e=>{e.isIntersecting&&(e.target.classList.add('visible'),e.target.querySelectorAll('.stagger-child').forEach((e,t)=>{e.style.setProperty('--stagger-index',t)}),t.unobserve(e.target))})},{rootMargin:'0px 0px -50px 0px'});a.forEach(e=>{u.observe(e)}),c&&!localStorage.getItem('cookieConsent')?c.classList.add('show'):c&&c.classList.remove('show'),d&&d.addEventListener('click',function(){localStorage.setItem('cookieConsent','true'),c&&c.classList.remove('show')});const g=new IntersectionObserver(function(e){e.forEach(e=>{l&&(l.classList.toggle('show',!e.isIntersecting&&window.scrollY>300))})},{threshold:[0]});e&&g.observe(e)})